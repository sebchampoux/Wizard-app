webpackJsonp([1],{NHnr:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("7+uW"),s={name:"player-header",data:function(){return{player_name:null,name_confirmed:!1,input_error:{disp_time:2,is_active:!1}}},methods:{confirm_player_name:function(){null!==this.player_name?this.name_confirmed=!0:this.display_error_on_name_input()},display_error_on_name_input:function(){var e=this;this.input_error.is_active=!0,setTimeout(function(){return e.input_error.is_active=!1},1e3*this.input_error.disp_time)}},props:{player_index:{type:Number,required:!0},additional_classes:{type:String,required:!1,default:null},player_score:{type:Number,required:!0,default:0}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"player-header",class:[e.additional_classes]},[e.name_confirmed?t("p",{staticClass:"player-header__name"},[e._v(e._s(e.player_name))]):t("div",{staticClass:"player-header__form-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.player_name,expression:"player_name"}],staticClass:"form-control player-header__input",class:{"player-header__input--error":e.input_error.is_active},attrs:{type:"text",placeholder:"Nom"},domProps:{value:e.player_name},on:{input:function(r){r.target.composing||(e.player_name=r.target.value)}}}),e._v(" "),t("button",{staticClass:"btn btn-success btn-sm player-header__confirm-btn",attrs:{type:"button"},on:{click:e.confirm_player_name}},[t("i",{staticClass:"icon-ok"})])]),e._v(" "),t("p",{staticClass:"player-header__score"},[e._v(e._s(e.player_score))])])},staticRenderFns:[]},l=t("VU/8")(s,a,!1,null,null,null).exports,o={name:"player-round",data:function(){return{guess:null,real_result:null,round_over:!1,error_border:{display_time:2,is_active:!1}}},methods:{get_difference:function(){return Math.abs(this.guess-this.real_result)},finish_round:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==this.guess?(this.round_over=!0,e&&(this.real_result=this.guess)):this.display_guess_error()},display_guess_error:function(){var e=this;this.error_border.is_active=!0,setTimeout(function(){return e.error_border.is_active=!1},1e3*this.error_border.display_time)}},computed:{round_score:function(){return null===this.guess||null===this.real_result?0:this.guess===this.real_result?20+10*this.real_result:-10*this.get_difference()},no_result_entered:function(){return null===this.real_result},round_number:function(){return this.round_index+1}},watch:{round_score:function(){this.$emit("score-updated",this.round_score)}},props:{is_even:{type:Boolean,default:!1,required:!1},additional_classes:{type:String,default:null,required:!1},round_index:{type:Number,required:!0},player_index:{type:Number,required:!0}}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"player-round",class:[{"player-round--lighter-bg":e.is_even},e.additional_classes]},[t("p",{staticClass:"player-round__round-number"},[e._v(e._s(e.round_number))]),e._v(" "),t("div",{staticClass:"player-round__score-wrapper"},[t("h1",{staticClass:"player-round__score"},[e._v(e._s(e.round_score))])]),e._v(" "),t("div",{staticClass:"player-round__inputs-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.guess,expression:"guess"}],staticClass:"form-control player-round__input",class:{"player-round__input--error":e.error_border.is_active},attrs:{type:"number",placeholder:"Estimation"},domProps:{value:e.guess},on:{input:function(r){r.target.composing||(e.guess=r.target.value)}}}),e._v(" "),e.round_over?t("input",{directives:[{name:"model",rawName:"v-model",value:e.real_result,expression:"real_result"}],staticClass:"form-control player-round__input",class:{"player-round__input--error":e.no_result_entered},attrs:{type:"number",placeholder:"RÃ©sultat"},domProps:{value:e.real_result},on:{input:function(r){r.target.composing||(e.real_result=r.target.value)}}}):t("div",{staticClass:"player-round__buttons-wrapper"},[t("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(r){e.finish_round(!0)}}},[t("i",{staticClass:"icon-ok"})]),e._v(" "),t("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(r){e.finish_round(!1)}}},[t("i",{staticClass:"icon-cancel"})])])])])},staticRenderFns:[]},u={name:"player-column",components:{PlayerRound:t("VU/8")(o,i,!1,null,null,null).exports,PlayerHeader:l},data:function(){return{score_per_round:[]}},methods:{update_score_for_round:function(e,r){this.score_per_round.splice(e,1,r)}},computed:{player_score:function(){return this.score_per_round.reduce(function(e,r){return e+r},0)}},props:{player_index:{type:Number,default:0,required:!0},additional_classes:{type:String,default:null,required:!1},number_of_rounds:{type:Number,default:20,required:!0}}},_={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"player-column",class:[e.additional_classes]},[t("player-header",{attrs:{player_score:e.player_score,player_index:e.player_index}}),e._v(" "),e._l(e.number_of_rounds,function(r){return t("player-round",{key:r-1,attrs:{round_index:r-1,is_even:r%2==0,player_index:e.player_index,additional_classes:"player-column__player-round"},on:{"score-updated":function(t){e.update_score_for_round(r-1,t)}}})})],2)},staticRenderFns:[]},c={name:"App",components:{PlayerColumn:t("VU/8")(u,_,!1,null,null,null).exports},data:function(){return{number_of_players:2}},methods:{add_new_player:function(){this.can_add_more_players&&this.number_of_players++}},computed:{player_cols_class:function(){switch(this.number_of_players){case 2:return"col-sm-4";case 3:return"col-sm-3";case 4:case 5:case 6:default:return"col-sm-2"}},number_of_rounds:function(){return Math.min(60/this.number_of_players,20)},can_add_more_players:function(){return this.number_of_players<6}}},d={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-frame"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[e._l(e.number_of_players,function(r){return t("player-column",{key:r-1,attrs:{number_of_rounds:e.number_of_rounds,player_index:r-1,additional_classes:e.player_cols_class}})}),e._v(" "),e.can_add_more_players?t("div",{staticClass:"add-new-player",class:e.player_cols_class},[t("button",{staticClass:"btn btn-success",on:{click:e.add_new_player}},[e._v("+ Joueur")])]):e._e()],2)])])},staticRenderFns:[]};var p=t("VU/8")(c,d,!1,function(e){t("flSO")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:p},template:"<App/>"})},flSO:function(e,r){}},["NHnr"]);
//# sourceMappingURL=app.8d1a926e32efd0fc31f6.js.map