webpackJsonp([1],{Ishx:function(e,r){},NHnr:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s("7+uW"),t={name:"player-header",data:function(){return{player_name:null,name_confirmed:!1,input_error:{disp_time:2,is_active:!1}}},methods:{confirm_player_name:function(){null!==this.player_name?(this.name_confirmed=!0,this.$emit("name-confirmed",{player_index:this.player_index})):this.display_error_on_name_input()},display_error_on_name_input:function(){var e=this;this.input_error.is_active=!0,setTimeout(function(){return e.input_error.is_active=!1},1e3*this.input_error.disp_time)}},computed:{player_score:function(){return 0===this.player_score_array.length?0:this.player_score_array.reduce(function(e,r){return e+r})}},props:{additional_classes:{type:String,required:!1,default:null},player_score_array:{type:Array,required:!0,default:[]},player_index:{type:Number,required:!0}}},a={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"player-header",class:[e.additional_classes]},[e.name_confirmed?s("p",{staticClass:"player-header__name"},[e._v(e._s(e.player_name))]):s("div",{staticClass:"player-header__form-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.player_name,expression:"player_name"}],staticClass:"form-control player-header__input",class:{"player-header__input--error":e.input_error.is_active},attrs:{type:"text",placeholder:"Nom"},domProps:{value:e.player_name},on:{input:function(r){r.target.composing||(e.player_name=r.target.value)}}}),e._v(" "),s("button",{staticClass:"btn btn-success btn-sm player-header__confirm-btn",attrs:{type:"button"},on:{click:e.confirm_player_name}},[s("i",{staticClass:"icon-ok"})])]),e._v(" "),s("p",{staticClass:"player-header__score"},[e._v(e._s(e.player_score))])])},staticRenderFns:[]},i=s("VU/8")(t,a,!1,null,null,null).exports,l={name:"player-round",data:function(){return{guess:null,real_result:null,round_over:!1,error_border:{display_time:2,is_active:!1}}},methods:{get_difference:function(){return Math.abs(this.guess-this.real_result)},finish_round:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==this.guess?(this.round_over=!0,e&&(this.real_result=this.guess)):this.display_guess_error()},display_guess_error:function(){var e=this;this.error_border.is_active=!0,setTimeout(function(){return e.error_border.is_active=!1},1e3*this.error_border.display_time)}},computed:{round_score:function(){return null===this.guess||null===this.real_result?0:this.guess===this.real_result?20+10*this.real_result:-10*this.get_difference()},no_result_entered:function(){return null===this.real_result},round_number:function(){return this.round_index+1},is_even:function(){return this.round_index%2==0}},watch:{round_score:function(){this.$emit("score-updated",{score:this.round_score,player_index:this.player_index,round_index:this.round_index})}},props:{additional_classes:{type:String,default:null,required:!1},round_index:{type:Number,required:!0},player_index:{type:Number,required:!0}}},o={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"player-round",class:[{"player-round--lighter-bg":e.is_even},e.additional_classes]},[s("p",{staticClass:"player-round__round-number"},[e._v(e._s(e.round_number))]),e._v(" "),s("div",{staticClass:"player-round__score-wrapper"},[s("h1",{staticClass:"player-round__score"},[e._v(e._s(e.round_score))])]),e._v(" "),s("div",{staticClass:"player-round__inputs-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.guess,expression:"guess"}],staticClass:"form-control player-round__input",class:{"player-round__input--error":e.error_border.is_active},attrs:{type:"number",placeholder:"Estimation"},domProps:{value:e.guess},on:{input:function(r){r.target.composing||(e.guess=r.target.value)}}}),e._v(" "),e.round_over?s("input",{directives:[{name:"model",rawName:"v-model",value:e.real_result,expression:"real_result"}],staticClass:"form-control player-round__input",class:{"player-round__input--error":e.no_result_entered},attrs:{type:"number",placeholder:"RÃ©sultat"},domProps:{value:e.real_result},on:{input:function(r){r.target.composing||(e.real_result=r.target.value)}}}):s("div",{staticClass:"player-round__buttons-wrapper"},[s("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(r){e.finish_round(!0)}}},[s("i",{staticClass:"icon-ok"})]),e._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(r){e.finish_round(!1)}}},[s("i",{staticClass:"icon-cancel"})])])])])},staticRenderFns:[]},u={name:"App",components:{PlayerHeader:i,PlayerRound:s("VU/8")(l,o,!1,null,null,null).exports},data:function(){return{number_of_players:2,players_scores:[[],[]],confirmed_names:[!1,!1]}},methods:{add_new_player:function(){this.can_add_more_players&&(this.number_of_players++,this.players_scores.push([]),this.confirmed_names.push(!1))},update_player_score:function(e){this.players_scores[e.player_index].splice(e.round_index,1,e.score)},name_confirmed:function(e){this.confirmed_names.splice(e.player_index,1,!0)}},computed:{player_cols_class:function(){switch(this.number_of_players){case 2:return"col-sm-4";case 3:return"col-sm-3";case 4:case 5:case 6:default:return"col-sm-2"}},number_of_rounds:function(){return Math.min(60/this.number_of_players,20)},can_add_more_players:function(){return this.number_of_players<6},all_names_confirmed:function(){return this.confirmed_names.every(function(e){return e})}}},_={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"app-frame",class:{"app-frame--names-confirmed":e.all_names_confirmed}},[s("div",{staticClass:"players-head"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[e._l(e.number_of_players,function(r){return s("div",{key:r-1,class:e.player_cols_class},[s("player-header",{attrs:{player_score_array:e.players_scores[r-1],player_index:r-1},on:{"name-confirmed":e.name_confirmed}})],1)}),e._v(" "),e.can_add_more_players?s("div",{staticClass:"add-new-player",class:e.player_cols_class},[s("button",{staticClass:"btn btn-success",on:{click:e.add_new_player}},[e._v("+ Joueur")])]):e._e()],2)])]),e._v(" "),s("div",{staticClass:"container-fluid rounds-wrapper"},[s("div",{staticClass:"row"},e._l(e.number_of_players,function(r){return s("div",{key:r-1,staticClass:"player-column",class:e.player_cols_class},e._l(e.number_of_rounds,function(n){return s("player-round",{key:n-1,attrs:{round_index:n-1,player_index:r-1,additional_classes:"player-column__player-round"},on:{"score-updated":e.update_player_score}})}))}))])])},staticRenderFns:[]};var c=s("VU/8")(u,_,!1,function(e){s("Ishx")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:c},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.75acbe9d4983e650041b.js.map